<div class="card">
  <div class="card-header">
    <b>Registration </b>
  </div>
  
  <div class="card-body">
    <form novalidate (ngSubmit)="save()" [formGroup]="userForm">
  
      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="firstNameId">First Name</label>
        <div class="col-md-8">
            <input class="form-control" id="firstNameId" type="text" placeholder="First Name (required)"
            formControlName="firstName"
            [ngClass]="{'is-invalid': (userForm.get('firstName').touched || userForm.get('firstName').dirty) && !userForm.get('firstName').valid }" />
  
          <span class="invalid-feedback">
  
            <span *ngIf="userForm.get('firstName').errors?.required">
              Please enter your first name.
            </span>
  
          </span>
  
        </div>
      </div>
      
      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="lastNameId">Last Name</label>
        <div class="col-md-8">
          <input class="form-control" id="lastNameId" type="text" placeholder="Last Name (required)"
            formControlName="lastName"
            [ngClass]="{'is-invalid': (userForm.get('lastName').touched || userForm.get('lastName').dirty) && !userForm.get('lastName').valid }" />
          <span class="invalid-feedback">
            <span *ngIf="userForm.get('lastName').errors?.required">
              Please enter your last name.
            </span>
            <span *ngIf="userForm.get('lastName').errors?.maxlength">
              The last name must be less than 50 characters.
            </span>
          </span>
        </div>
      </div>
      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="emailId">Email</label>
        <div class="col-md-8">
          <input class="form-control" id="emailId" type="email" placeholder="Email (required)" formControlName="email"
            [ngClass]="{'is-invalid': 
                                               ((userForm.get('email').touched || 
                                                userForm.get('email').dirty) && 
                                                !userForm.get('email').valid) }" />
          <span class="invalid-feedback">
            <span *ngIf="userForm.get('email').errors?.required">
              Please enter your email address.
            </span>
            <span *ngIf="userForm.get('email').errors?.email">
              Please enter a valid email address.
            </span>
          </span>
        </div>
      </div>
  
      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="phoneId">Phone</label>
        <div class="col-md-8">
          <input class="form-control" id="phoneId" type="text" placeholder="Phone" formControlName="phone"
            [ngClass]="{'is-invalid': !userForm.get('phone').valid && (userForm.get('phone').touched || userForm.get('phone').dirty)}" />
          <span class="invalid-feedback">
            <span *ngIf="userForm.get('phone').errors?.required">
              Please enter your phone number.
            </span>
            <span *ngIf="userForm.get('phone').errors?.pattern">
              Entered phone number is not valid.
            </span>
          </span>
        </div>
      </div>
  
      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="cityId">City</label>
        <div class="col-md-8">
  
  
          <select
            [ngClass]="{'is-invalid': (userForm.get('city').touched || userForm.get('city').dirty) && !userForm.get('city').valid }"
            class="form-control" id="cityId" placeholder="City" formControlName="city">
            <option value="" selected disabled hidden>
              {{text}}
            </option>
            <option *ngFor="let city of cities">{{city}} </option>
          </select>
          <span class="invalid-feedback">
            <span *ngIf="userForm.get('city').errors?.required">
              Please enter your city.
            </span>
  
          </span>
        </div>
      </div>
  
      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="stateId">State</label>
        <div class="col-md-8">
  
          <select
            [ngClass]="{'is-invalid': (userForm.get('city').touched || userForm.get('city').dirty) && !userForm.get('city').valid }"
            placeholder="Select State" class="form-control" formControlName="state" id="stateId"
            (change)="changeState($event.target.value)">
            <option value="" selected disabled hidden>
              {{text}}
            </option>
            <option *ngFor="let state of stateList">{{state.name}} </option>
          </select>
          <span class="invalid-feedback">
            <span *ngIf="userForm.get('state').errors?.required">
              Please enter your state.
            </span>
  
          </span>
        </div>
      </div>
  
      <div class="form-group row mb-2">
        <div class="offset-md-2 col-md-4">
          <button class="btn btn-primary mr-3" type="submit" style="width:80px"
            [title]="userForm.valid ? 'Save your entered data' : 'Disabled until the form data is valid'"
            [disabled]="!userForm.valid">
            Save
          </button>
          <button class="btn btn-outline-secondary" type="button" (click)="reset()">Reset</button>
  
        </div>
      </div>
    </form>
  
  
  </div>
</div>

